(function(c){c.omWidget.addBeforeInitListener("om.omGrid",function(){var f=this._getColModel();if(!c.isArray(f)||f.length<=0||!c.isArray(f[0])){return}d(this);this.hDiv.addClass("hDiv-group-header");c.extend(this,{_getColModel:function(){return this._colModel},_getHeaderCols:function(){var g=[],j=this.options,i=this.hDiv,h=i.find("th[axis^='col']");c(h).each(function(){g.push(this)});g.sort(function(l,k){return l.axis.slice(3)-k.axis.slice(3)});!j.singleSelect&&g.unshift(i.find("th[axis='checkboxCol']")[0]);j.showIndex&&g.unshift(i.find("th[axis='indexCol']")[0]);j.rowDetailsProvider&&g.unshift(i.find("th[axis='expenderCol']")[0]);return c(g)},_buildTableHead:function(){var p=this.options,n=p.colModel,w=0,m=-1,y="<th class='$' $ $ $ $ $><div class='$' style='text-align:$; $'>$</div></th>",t=["<thead>"],r,x,k,q;for(var v=0,l=n.length;v<l;v++){t.push("<tr>");if(v==0){if(p.showIndex){t.push("<th class='indexCol data-header-"+l+"' align='center' axis='indexCol' rowspan="+l+"><div class='indexheader' style='text-align:center;width:25px;' /></th>")}if(!p.singleSelect){t.push("<th class='checkboxCol data-header-"+l+"' align='center' axis='checkboxCol' rowspan="+l+"><div class='checkboxheader' style='text-align:center;width:17px;'><span class='checkbox'/></div></th>")}}k=n[v];for(var u=0,h=k.length;u<h;u++){x=k[u];var o=x.width||60,s=x.align||"center",z=x.name;if(x.name&&o=="autoExpand"){o=0;m=b(this,x)}var g=x.wrap?"wrap":"";g+=(x.name?" data-header-":" group-header-")+(x.rowspan?x.rowspan:1);r=[g,x.align?"align="+x.align:"",z?"axis=col"+b(this,x):"",z?"abbr="+z:"",x.rowspan?"rowspan="+x.rowspan:"",x.colspan?"colspan="+x.colspan:"",x.wrap?"wrap":"",s,z?"width:"+o+"px":"",x.header];e(t,r,y);if(x.name){w+=o}}t.push("</tr>")}t.push("</thead>");c("table",this.hDiv).html(t.join(""));q=c("thead",this.hDiv);this._fixHeaderWidth(m,w);this.thead=q;q=null}})});function b(h,k){var g=h._getColModel();for(var j=0,f=g.length;j<f;j++){if(g[j].name==k.name){return j}}}function e(h,i,g){var f=0;h.push(g.replace(/\$/g,function(){return i[f++]}))}function d(s){s._colModel=[];var p=s._getColModel(),o=[],k=[],u=1,n=1,m,r,q,l=p.length;for(var h=0;h<l;h++){o[h]=[]}for(var h=0,t=l;h<t;h++){m=p[h];for(var g=0,f=m.length;g<f;g++){r=m[g];u=r.rowspan||1;n=r.colspan||1;q=a(o,h,u,n);if(r.name){k.push({header:r,colIndex:q})}}}k.sort(function(j,i){return j.colIndex-i.colIndex});h=0;while(k[h]&&s._colModel.push(k[h++].header)){}}function a(g,l,n,o){var m=0;while(g[l][m]&&++m){}for(var h=l;h<l+n;h++){for(var f=m;f<m+o;f++){g[h][f]=true}}return m}})(jQuery);