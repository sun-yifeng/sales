(function(b){b.omWidget.addInitListener("om.omGrid",function(){var l=this,e=this.options,d=e.rowDetailsProvider,j=e.colModel,h=this.thead;if(!(d&&j.length>0)){return}e._onResizableCallbacks.push(a);e._onResizableStopCallbacks.push(a);h.find("th:first").before('<th align="center" axis="expenderCol" class="expenderCol" rowspan='+(b.isArray(j[0])?j.length:1)+'><div style="text-align: center; width: 14px;"></div></th>');var c=-1,i=0;j=this._getColModel();b(j).each(function(m){if(j[m].width=="autoExpand"){c=m}else{i+=j[m].width}});var f=h.find('th[axis="expenderCol"]').width();if(c!=-1){h.find('th[axis="col'+c+'"] >div').css("width","-="+f)}else{if(e.autoFit){var g=f/i;h.find('th[axis^="col"] >div').each(function(m){b(this).css("width","-="+parseInt(j[m].width*g))})}}var k=this._getHeaderCols().size();this.tbody.delegate("td.expenderCol >div","click",function(o){var q=b(this),m=q.closest("tr"),n=m.next("tr");if(n.hasClass("rowExpand-rowDetails")){n.toggle()}else{var p=l._getTrs().index(m);rowData=l._getRowData(p),rowDetails=d?d(rowData,p):"&#160;";m.after('<tr class="rowExpand-rowDetails"><td colspan="'+(k-1)+'"><div class="rowExpand-rowDetails-content">'+rowDetails+"</div></td></tr>")}q.toggleClass("rowExpand-expanded").parent().attr("rowspan",q.hasClass("rowExpand-expanded")?2:1);a.call(l);return false})});function a(){var c=this.element;var f=c.find("tr.rowExpand-rowDetails");if(f.length==0){return}var d=this.hDiv.find("table");var e=d.width()-d.find("th.expenderCol").outerWidth()-parseInt(f.find("> td").css("border-right-width"));f.each(function(){b(this).find(".rowExpand-rowDetails-content").outerWidth(e)})}})(jQuery);